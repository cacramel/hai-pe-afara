<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Rescue AI | Alex's Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .loader { border-top-color: #22c55e; animation: spinner 1.5s linear infinite; }
        @keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-10">

    <div class="w-full max-w-2xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-green-400 mb-2 underline decoration-wavy">Food Rescue AI ğŸ</h1>
            <p class="text-slate-400">Introdu ce ai prin frigider È™i lÄƒsÄƒm AI-ul sÄƒ gÄƒteascÄƒ!</p>
        </header>

        <div class="glass p-6 rounded-3xl mb-6">
            <label class="block text-sm font-medium mb-2 text-slate-300">Ce ingrediente ai?</label>
            <div class="flex gap-2">
                <input type="text" id="ingredientInput" placeholder="ex: pui, smÃ¢ntÃ¢nÄƒ, cartofi..." 
                       class="flex-1 bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-green-500 transition-all">
                <button onclick="generateRecipe()" 
                        class="bg-green-500 hover:bg-green-600 text-slate-900 font-bold px-6 py-3 rounded-xl transition-all active:scale-95">
                    GÄƒseÈ™te ReÈ›etÄƒ
                </button>
            </div>
            <p class="text-xs text-slate-500 mt-3 italic">* SeparÄƒ ingredientele prin virgulÄƒ.</p>
        </div>

        <div id="loader" class="hidden flex flex-col items-center my-10">
            <div class="loader w-12 h-12 border-4 border-slate-700 rounded-full mb-4"></div>
            <p class="text-green-400 animate-pulse">Chef Gemini analizeazÄƒ ingredientele...</p>
        </div>

        <div id="recipeResult" class="hidden glass p-8 rounded-3xl leading-relaxed">
            <h2 id="recipeTitle" class="text-2xl font-bold text-green-400 mb-4 text-center"></h2>
            <div id="recipeContent" class="text-slate-200 whitespace-pre-line">
                </div>
            <button onclick="window.print()" class="mt-6 text-sm text-slate-500 hover:text-white underline">
                PrinteazÄƒ reÈ›eta
            </button>
        </div>
    </div>

    <script>
        // CONFIGURARE: Pune cheia ta mai jos
        const API_KEY = "AIzaSyAUM2IoTeenYiRWwOxGywAbPItesVTklkw"; 

        async function generateRecipe() {
    const ingredients = document.getElementById('ingredientInput').value;
    const loader = document.getElementById('loader');
    const resultDiv = document.getElementById('recipeResult');
    const contentDiv = document.getElementById('recipeContent');
    const titleDiv = document.getElementById('recipeTitle');

    if (!ingredients) {
        alert("Te rog scrie mÄƒcar un ingredient!");
        return;
    }

    loader.classList.remove('hidden');
    resultDiv.classList.add('hidden');

    // URL-ul CORECT pentru Gemini 1.5 Flash
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{
                    parts: [{
                        text: `Propune o reÈ›etÄƒ pentru aceste ingrediente: ${ingredients}. Ton prietenos, paÈ™i clari.`
                    }]
                }]
            })
        });

        const data = await response.json();

        // VerificÄƒm dacÄƒ Google a trimis o eroare Ã®n JSON
        if (data.error) {
            throw new Error(data.error.message);
        }

        if (data.candidates && data.candidates[0].content.parts[0].text) {
            const recipeText = data.candidates[0].content.parts[0].text;
            titleDiv.innerText = "ReÈ›eta ta e gata! ğŸ‘¨â€ğŸ³";
            contentDiv.innerText = recipeText;
            
            loader.classList.add('hidden');
            resultDiv.classList.remove('hidden');
        } else {
            throw new Error("Format rÄƒspuns invalid");
        }

    } catch (error) {
        console.error("Eroare detaliatÄƒ:", error);
        alert("Eroare: " + error.message);
        loader.classList.add('hidden');
    }
}
    </script>
</body>
</html>

